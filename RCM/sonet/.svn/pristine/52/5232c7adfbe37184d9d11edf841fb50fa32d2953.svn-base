package pt.ist.sonet.domain;

import pt.ist.sonet.service.dto.PublicationViewDto;

/**
 * 
 * Classe Note que herda de Note_Base
 * 
 */
public class Note extends Note_Base {
	
	private static String NOTE = "Note";
	
	/**
	 * Construtor
	 */
	public Note() {
		super();
	}

	/**
	 * Construtor
	 * 
	 * @param int id - identificador desta publicacao
	 * @param String label - legenda da publicacao
	 * @param int pos - numero de votos positivos da publicacao
	 * @param int neg - numero de votos negativos da publicacao
	 * @param Agent creator - agente que faz a publicacao
	 * @param String text - conteudo da publicacao
	 */
	public  Note(int id, String label, int pos, int neg, Agent creator, String text) {
		super();
		init(id, label, pos, neg, creator);
		setText(text);        
	} 

	/**
	 * 
	 * Metodo que lista a publicacao
	 * 
	 * @return uma string com o id da publicacao, o nome do agente que a fez, a legenda, o conteudo da publicacao
	 * e o seu numero de votos positivos e negativos
	 */
	public String toString() {
		return this.getId() + " | " + this.getAgent().getName() + " | " + this.getLabel() + " | " + this.getText() + " | " + this.getPosVotes() + " | "+ this.getNegVotes() ;
	}
	
	/**
	 * Metodo que devolve uma string que indica qual o tipo de publicacao
	 * 
	 * @return String
	 */
	public String getType(){
		return NOTE;
	}

	/**
	 * Metodo usado para criar um DTO do tipo PublicationWithPriceViewDto. Permite a nao utilizacao
	 * do metodo getType.
	 * 
	 *  @return PublicationViewDto
	 */
	@Override
	public PublicationViewDto createDto() {
		return new PublicationViewDto(this.getId(), this.getType(), this.getAgent().getUsername(), this.getLabel(), this.getText(), this.getPosVotes(), this.getNegVotes(), this.getCommentsCount());
	}
}